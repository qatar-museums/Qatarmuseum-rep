<?php

// Overrides for Arabic input, we want to pass through arabic strings unchanged, you'd think there was a simpler way of doing this but I can't find it
// n.b this x06 block contains the basic arabic alphabet, we will leave transliteration as is for more obscure characters
//need to aply to base as well as arabic varient or these will not be invoked if editing through the english interface
$base = array(
  0x00 => u2c(0x0600), u2c(0x0601), u2c(0x0602), u2c(0x0603), u2c(0x0604), u2c(0x0605), u2c(0x0606), u2c(0x0607), u2c(0x0608),u2c(0x0609),u2c(0x060a),u2c(0x060b),u2c(0x060c),u2c(0x060d),u2c(0x060e),u2c(0x060f),
  0x10 => u2c(0x0610), u2c(0x0611), u2c(0x0612), u2c(0x0613), u2c(0x0614), u2c(0x0615), u2c(0x0616), u2c(0x0617), u2c(0x0618),u2c(0x0619),u2c(0x061a),u2c(0x061b),u2c(0x061c),u2c(0x061d),u2c(0x061e),u2c(0x061f),
  0x20 => u2c(0x0620), u2c(0x0621), u2c(0x0622), u2c(0x0623), u2c(0x0624), u2c(0x0625), u2c(0x0626), u2c(0x0627), u2c(0x0628),u2c(0x0629),u2c(0x062a),u2c(0x062b),u2c(0x062c),u2c(0x062d),u2c(0x062e),u2c(0x062f),
  0x30 => u2c(0x0630), u2c(0x0631), u2c(0x0632), u2c(0x0633), u2c(0x0634), u2c(0x0635), u2c(0x0636), u2c(0x0637), u2c(0x0638),u2c(0x0639),u2c(0x063a),u2c(0x063b),u2c(0x063c),u2c(0x063d),u2c(0x063e),u2c(0x063f),
  0x40 => u2c(0x0640), u2c(0x0641), u2c(0x0642), u2c(0x0643), u2c(0x0644), u2c(0x0645), u2c(0x0646), u2c(0x0647), u2c(0x0648),u2c(0x0649),u2c(0x064a),u2c(0x064b),u2c(0x064c),u2c(0x064d),u2c(0x064e),u2c(0x064f),
  0x50 => u2c(0x0650), u2c(0x0651), u2c(0x0652), u2c(0x0653), u2c(0x0654), u2c(0x0655), u2c(0x0656), u2c(0x0657), u2c(0x0658),u2c(0x0659),u2c(0x065a),u2c(0x065b),u2c(0x065c),u2c(0x065d),u2c(0x065e),u2c(0x065f),
  0x60 => u2c(0x0660), u2c(0x0661), u2c(0x0662), u2c(0x0663), u2c(0x0664), u2c(0x0665), u2c(0x0666), u2c(0x0667), u2c(0x0668),u2c(0x0669),u2c(0x066a),u2c(0x066b),u2c(0x066c),u2c(0x066d),u2c(0x066e),u2c(0x066f),
  0x70 => u2c(0x0670), u2c(0x0671), u2c(0x0672), u2c(0x0673), u2c(0x0674), u2c(0x0675), u2c(0x0676), u2c(0x0677), u2c(0x0678),u2c(0x0679),u2c(0x067a),u2c(0x067b),u2c(0x067c),u2c(0x067d),u2c(0x067e),u2c(0x067f),
  0x80 => u2c(0x0680), u2c(0x0681), u2c(0x0682), u2c(0x0683), u2c(0x0684), u2c(0x0685), u2c(0x0686), u2c(0x0687), u2c(0x0688),u2c(0x0689),u2c(0x068a),u2c(0x068b),u2c(0x068c),u2c(0x068d),u2c(0x068e),u2c(0x068f),
  0x90 => u2c(0x0690), u2c(0x0691), u2c(0x0692), u2c(0x0693), u2c(0x0694), u2c(0x0695), u2c(0x0696), u2c(0x0697), u2c(0x0698),u2c(0x0699),u2c(0x069a),u2c(0x069b),u2c(0x069c),u2c(0x069d),u2c(0x069e),u2c(0x069f),
  0xA0 => u2c(0x06a0), u2c(0x06a1), u2c(0x06a2), u2c(0x06a3), u2c(0x06a4), u2c(0x06a5), u2c(0x06a6), u2c(0x06a7), u2c(0x06a8),u2c(0x06a9),u2c(0x06aa),u2c(0x06ab),u2c(0x06ac),u2c(0x06ad),u2c(0x06ae),u2c(0x06af),
  0xB0 => u2c(0x06b0), u2c(0x06b1), u2c(0x06b2), u2c(0x06b3), u2c(0x06b4), u2c(0x06b5), u2c(0x06b6), u2c(0x06b7), u2c(0x06b8),u2c(0x06b9),u2c(0x06ba),u2c(0x06bb),u2c(0x06bc),u2c(0x06bd),u2c(0x06be),u2c(0x06bf),
  0xC0 => u2c(0x06c0), u2c(0x06c1), u2c(0x06c2), u2c(0x06c3), u2c(0x06c4), u2c(0x06c5), u2c(0x06c6), u2c(0x06c7), u2c(0x06c8),u2c(0x06c9),u2c(0x06ca),u2c(0x06cb),u2c(0x06cc),u2c(0x06cd),u2c(0x06ce),u2c(0x06cf),
  0xD0 => u2c(0x06d0), u2c(0x06d1), u2c(0x06d2), u2c(0x06d3), u2c(0x06d4), u2c(0x06d5), u2c(0x06d6), u2c(0x06d7), u2c(0x06d8),u2c(0x06d9),u2c(0x06da),u2c(0x06db),u2c(0x06dc),u2c(0x06dd),u2c(0x06de),u2c(0x06df),
  0xE0 => u2c(0x06e0), u2c(0x06e1), u2c(0x06e2), u2c(0x06e3), u2c(0x06e4), u2c(0x06e5), u2c(0x06e6), u2c(0x06e7), u2c(0x06e8),u2c(0x06e9),u2c(0x06ea),u2c(0x06eb),u2c(0x06ec),u2c(0x06ed),u2c(0x06ee),u2c(0x06ef),
);

$variant['ar'] = array(
  0x00 => u2c(0x0600), u2c(0x0601), u2c(0x0602), u2c(0x0603), u2c(0x0604), u2c(0x0605), u2c(0x0606), u2c(0x0607), u2c(0x0608),u2c(0x0609),u2c(0x060a),u2c(0x060b),u2c(0x060c),u2c(0x060d),u2c(0x060e),u2c(0x060f),
  0x10 => u2c(0x0610), u2c(0x0611), u2c(0x0612), u2c(0x0613), u2c(0x0614), u2c(0x0615), u2c(0x0616), u2c(0x0617), u2c(0x0618),u2c(0x0619),u2c(0x061a),u2c(0x061b),u2c(0x061c),u2c(0x061d),u2c(0x061e),u2c(0x061f),
  0x20 => u2c(0x0620), u2c(0x0621), u2c(0x0622), u2c(0x0623), u2c(0x0624), u2c(0x0625), u2c(0x0626), u2c(0x0627), u2c(0x0628),u2c(0x0629),u2c(0x062a),u2c(0x062b),u2c(0x062c),u2c(0x062d),u2c(0x062e),u2c(0x062f),
  0x30 => u2c(0x0630), u2c(0x0631), u2c(0x0632), u2c(0x0633), u2c(0x0634), u2c(0x0635), u2c(0x0636), u2c(0x0637), u2c(0x0638),u2c(0x0639),u2c(0x063a),u2c(0x063b),u2c(0x063c),u2c(0x063d),u2c(0x063e),u2c(0x063f),
  0x40 => u2c(0x0640), u2c(0x0641), u2c(0x0642), u2c(0x0643), u2c(0x0644), u2c(0x0645), u2c(0x0646), u2c(0x0647), u2c(0x0648),u2c(0x0649),u2c(0x064a),u2c(0x064b),u2c(0x064c),u2c(0x064d),u2c(0x064e),u2c(0x064f),
  0x50 => u2c(0x0650), u2c(0x0651), u2c(0x0652), u2c(0x0653), u2c(0x0654), u2c(0x0655), u2c(0x0656), u2c(0x0657), u2c(0x0658),u2c(0x0659),u2c(0x065a),u2c(0x065b),u2c(0x065c),u2c(0x065d),u2c(0x065e),u2c(0x065f),
  0x60 => u2c(0x0660), u2c(0x0661), u2c(0x0662), u2c(0x0663), u2c(0x0664), u2c(0x0665), u2c(0x0666), u2c(0x0667), u2c(0x0668),u2c(0x0669),u2c(0x066a),u2c(0x066b),u2c(0x066c),u2c(0x066d),u2c(0x066e),u2c(0x066f),
  0x70 => u2c(0x0670), u2c(0x0671), u2c(0x0672), u2c(0x0673), u2c(0x0674), u2c(0x0675), u2c(0x0676), u2c(0x0677), u2c(0x0678),u2c(0x0679),u2c(0x067a),u2c(0x067b),u2c(0x067c),u2c(0x067d),u2c(0x067e),u2c(0x067f),
  0x80 => u2c(0x0680), u2c(0x0681), u2c(0x0682), u2c(0x0683), u2c(0x0684), u2c(0x0685), u2c(0x0686), u2c(0x0687), u2c(0x0688),u2c(0x0689),u2c(0x068a),u2c(0x068b),u2c(0x068c),u2c(0x068d),u2c(0x068e),u2c(0x068f),
  0x90 => u2c(0x0690), u2c(0x0691), u2c(0x0692), u2c(0x0693), u2c(0x0694), u2c(0x0695), u2c(0x0696), u2c(0x0697), u2c(0x0698),u2c(0x0699),u2c(0x069a),u2c(0x069b),u2c(0x069c),u2c(0x069d),u2c(0x069e),u2c(0x069f),
  0xA0 => u2c(0x06a0), u2c(0x06a1), u2c(0x06a2), u2c(0x06a3), u2c(0x06a4), u2c(0x06a5), u2c(0x06a6), u2c(0x06a7), u2c(0x06a8),u2c(0x06a9),u2c(0x06aa),u2c(0x06ab),u2c(0x06ac),u2c(0x06ad),u2c(0x06ae),u2c(0x06af),
  0xB0 => u2c(0x06b0), u2c(0x06b1), u2c(0x06b2), u2c(0x06b3), u2c(0x06b4), u2c(0x06b5), u2c(0x06b6), u2c(0x06b7), u2c(0x06b8),u2c(0x06b9),u2c(0x06ba),u2c(0x06bb),u2c(0x06bc),u2c(0x06bd),u2c(0x06be),u2c(0x06bf),
  0xC0 => u2c(0x06c0), u2c(0x06c1), u2c(0x06c2), u2c(0x06c3), u2c(0x06c4), u2c(0x06c5), u2c(0x06c6), u2c(0x06c7), u2c(0x06c8),u2c(0x06c9),u2c(0x06ca),u2c(0x06cb),u2c(0x06cc),u2c(0x06cd),u2c(0x06ce),u2c(0x06cf),
  0xD0 => u2c(0x06d0), u2c(0x06d1), u2c(0x06d2), u2c(0x06d3), u2c(0x06d4), u2c(0x06d5), u2c(0x06d6), u2c(0x06d7), u2c(0x06d8),u2c(0x06d9),u2c(0x06da),u2c(0x06db),u2c(0x06dc),u2c(0x06dd),u2c(0x06de),u2c(0x06df),
  0xE0 => u2c(0x06e0), u2c(0x06e1), u2c(0x06e2), u2c(0x06e3), u2c(0x06e4), u2c(0x06e5), u2c(0x06e6), u2c(0x06e7), u2c(0x06e8),u2c(0x06e9),u2c(0x06ea),u2c(0x06eb),u2c(0x06ec),u2c(0x06ed),u2c(0x06ee),u2c(0x06ef),
);

//accept unicode code as input (format 0x0000) and output actual UTF-8 character
function u2c($unicodeVal) {
	return mb_convert_encoding('&#' . intval($unicodeVal) . ';', 'UTF-8', 'HTML-ENTITIES');
}